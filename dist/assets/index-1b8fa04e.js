import{c as L,a as P,ai as X,aj as V,d as B,w as Z,z as Q,u as ee,g as E,ak as te,h as k,al as se,am as ne,i as ie,an as ae,l as x,ao as oe,T as le,a5 as ce,C as re,Q as de,a4 as W,r as $,D as b,E as A,L as e,S as n,X as a,F as t,N as D,Z as c,ae as y,af as _,U as ue,W as w,ap as pe,K as me,ac as fe,aq as he,R as T,_ as G,ar as ve,as as F,a2 as ge,H as M,Y as O,at as ye,au as _e,av as j,aw as ke,ax as xe}from"./index-184f80cb.js";const be=L([L("@keyframes spin-rotate",`
 from {
 transform: rotate(0);
 }
 to {
 transform: rotate(360deg);
 }
 `),P("spin-container",{position:"relative"},[P("spin-body",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[X()])]),P("spin-body",`
 display: inline-flex;
 align-items: center;
 justify-content: center;
 flex-direction: column;
 `),P("spin",`
 display: inline-flex;
 height: var(--n-size);
 width: var(--n-size);
 font-size: var(--n-size);
 color: var(--n-color);
 `,[V("rotate",`
 animation: spin-rotate 2s linear infinite;
 `)]),P("spin-description",`
 display: inline-block;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 margin-top: 8px;
 `),P("spin-content",`
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 pointer-events: all;
 `,[V("spinning",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: none;
 opacity: var(--n-opacity-spinning);
 `)])]),we={small:20,medium:18,large:16},$e=Object.assign(Object.assign({},E.props),{description:String,stroke:String,size:{type:[String,Number],default:"medium"},show:{type:Boolean,default:!0},strokeWidth:Number,rotate:{type:Boolean,default:!0},spinning:{type:Boolean,validator:()=>!0,default:void 0}}),Se=B({name:"Spin",props:$e,setup(d){Z(()=>{d.spinning!==void 0&&Q("spin","`spinning` is deprecated, please use `show` instead.")});const{mergedClsPrefixRef:u,inlineThemeDisabled:o}=ee(d),i=E("Spin","-spin",be,te,d,u),f=k(()=>{const{size:s}=d,{common:{cubicBezierEaseInOut:r},self:v}=i.value,{opacitySpinning:g,color:S,textColor:C}=v,z=typeof s=="number"?se(s):v[ne("size",s)];return{"--n-bezier":r,"--n-opacity-spinning":g,"--n-size":z,"--n-color":S,"--n-text-color":C}}),h=o?ie("spin",k(()=>{const{size:s}=d;return typeof s=="number"?String(s):s[0]}),f,d):void 0;return{mergedClsPrefix:u,compitableShow:ae(d,["spinning","show"]),mergedStrokeWidth:k(()=>{const{strokeWidth:s}=d;if(s!==void 0)return s;const{size:r}=d;return we[typeof r=="number"?"medium":r]}),cssVars:o?void 0:f,themeClass:h==null?void 0:h.themeClass,onRender:h==null?void 0:h.onRender}},render(){var d,u;const{$slots:o,mergedClsPrefix:i,description:f}=this,h=o.icon&&this.rotate,s=(f||o.description)&&x("div",{class:`${i}-spin-description`},f||((d=o.description)===null||d===void 0?void 0:d.call(o))),r=o.icon?x("div",{class:[`${i}-spin-body`,this.themeClass]},x("div",{class:[`${i}-spin`,h&&`${i}-spin--rotate`],style:o.default?"":this.cssVars},o.icon()),s):x("div",{class:[`${i}-spin-body`,this.themeClass]},x(oe,{clsPrefix:i,style:o.default?"":this.cssVars,stroke:this.stroke,"stroke-width":this.mergedStrokeWidth,class:`${i}-spin`}),s);return(u=this.onRender)===null||u===void 0||u.call(this),o.default?x("div",{class:[`${i}-spin-container`,this.themeClass],style:this.cssVars},x("div",{class:[`${i}-spin-content`,this.compitableShow&&`${i}-spin-content--spinning`]},o),x(le,{name:"fade-in-transition"},{default:()=>this.compitableShow?r:null})):r}});function Ce(){const d=new Date,u=d.getDate(),o=d.getMonth()+1;return`${d.getFullYear()}-${o}-${u}`}const ze={class:"p-4 space-y-5 min-h-[200px]"},Ie={class:"space-y-6"},Ne={class:"flex items-center space-x-4"},Pe={class:"flex-shrink-0 w-[100px]"},Te={class:"flex-1"},Ue={class:"flex items-center space-x-4"},Ae={class:"flex-shrink-0 w-[100px]"},Be={class:"w-[200px]"},Re={class:"flex items-center space-x-4"},De={class:"flex-shrink-0 w-[100px]"},Ge={class:"flex-1"},je={class:"flex-shrink-0 w-[100px]"},Me={class:"flex flex-wrap items-center gap-4"},Oe={class:"flex items-center space-x-4"},Le={class:"flex-shrink-0 w-[100px]"},Ve={class:"flex flex-wrap items-center gap-4"},Ee={class:"flex items-center space-x-4"},We={class:"flex-shrink-0 w-[100px]"},Fe={class:"flex flex-wrap items-center gap-4"},He={class:"flex items-center space-x-4"},Je={class:"flex-shrink-0 w-[100px]"},Ye=B({__name:"General",setup(d){const u=ce(),o=re(),{isMobile:i}=de(),f=W(),h=k(()=>u.theme),s=k(()=>o.userInfo),r=$(s.value.avatar??""),v=$(s.value.name??""),g=$(s.value.description??""),S=k({get(){return u.language},set(l){u.setLanguage(l)}}),C=[{label:"Auto",key:"auto",icon:"ri:contrast-line"},{label:"Light",key:"light",icon:"ri:sun-foggy-line"},{label:"Dark",key:"dark",icon:"ri:moon-foggy-line"}],z=[{label:"简体中文",key:"zh-CN",value:"zh-CN"},{label:"繁體中文",key:"zh-TW",value:"zh-TW"},{label:"English",key:"en-US",value:"en-US"}];function I(l){o.updateUserInfo(l),f.success(T("common.success"))}function H(){o.resetUserInfo(),f.success(T("common.success")),window.location.reload()}function J(){const l=Ce(),p=localStorage.getItem("chatStorage")||"{}",m=JSON.stringify(JSON.parse(p),null,2),N=new Blob([m],{type:"application/json"}),R=URL.createObjectURL(N),U=document.createElement("a");U.href=R,U.download=`chat-store_${l}.json`,document.body.appendChild(U),U.click(),document.body.removeChild(U)}function Y(l){const p=l.target;if(!p||!p.files)return;const m=p.files[0];if(!m)return;const N=new FileReader;N.onload=()=>{try{const R=JSON.parse(N.result);localStorage.setItem("chatStorage",JSON.stringify(R)),f.success(T("common.success")),location.reload()}catch{f.error(T("common.invalidFileFormat"))}},N.readAsText(m)}function q(){localStorage.removeItem("chatStorage"),location.reload()}function K(){const l=document.getElementById("fileInput");l&&l.click()}return(l,p)=>(b(),A("div",ze,[e("div",Ie,[e("div",Ne,[e("span",Pe,n(l.$t("setting.avatarLink")),1),e("div",Te,[a(t(D),{value:r.value,"onUpdate:value":p[0]||(p[0]=m=>r.value=m),placeholder:""},null,8,["value"])]),a(t(_),{size:"tiny",text:"",type:"primary",onClick:p[1]||(p[1]=m=>I({avatar:r.value}))},{default:c(()=>[y(n(l.$t("common.save")),1)]),_:1})]),e("div",Ue,[e("span",Ae,n(l.$t("setting.name")),1),e("div",Be,[a(t(D),{value:v.value,"onUpdate:value":p[2]||(p[2]=m=>v.value=m),placeholder:""},null,8,["value"])]),a(t(_),{size:"tiny",text:"",type:"primary",onClick:p[3]||(p[3]=m=>I({name:v.value}))},{default:c(()=>[y(n(l.$t("common.save")),1)]),_:1})]),e("div",Re,[e("span",De,n(l.$t("setting.description")),1),e("div",Ge,[a(t(D),{value:g.value,"onUpdate:value":p[4]||(p[4]=m=>g.value=m),placeholder:""},null,8,["value"])]),a(t(_),{size:"tiny",text:"",type:"primary",onClick:p[5]||(p[5]=m=>I({description:g.value}))},{default:c(()=>[y(n(l.$t("common.save")),1)]),_:1})]),e("div",{class:ue(["flex items-center space-x-4",t(i)&&"items-start"])},[e("span",je,n(l.$t("setting.chatHistory")),1),e("div",Me,[a(t(_),{size:"small",onClick:J},{icon:c(()=>[a(t(w),{icon:"ri:download-2-fill"})]),default:c(()=>[y(" "+n(l.$t("common.export")),1)]),_:1}),e("input",{id:"fileInput",type:"file",style:{display:"none"},onChange:Y},null,32),a(t(_),{size:"small",onClick:K},{icon:c(()=>[a(t(w),{icon:"ri:upload-2-fill"})]),default:c(()=>[y(" "+n(l.$t("common.import")),1)]),_:1}),a(t(pe),{placement:"bottom",onPositiveClick:q},{trigger:c(()=>[a(t(_),{size:"small"},{icon:c(()=>[a(t(w),{icon:"ri:close-circle-line"})]),default:c(()=>[y(" "+n(l.$t("common.clear")),1)]),_:1})]),default:c(()=>[y(" "+n(l.$t("chat.clearHistoryConfirm")),1)]),_:1})])],2),e("div",Oe,[e("span",Le,n(l.$t("setting.theme")),1),e("div",Ve,[(b(),A(me,null,fe(C,m=>a(t(_),{key:m.key,size:"small",type:m.key===t(h)?"primary":void 0,onClick:N=>t(u).setTheme(m.key)},{icon:c(()=>[a(t(w),{icon:m.icon},null,8,["icon"])]),_:2},1032,["type","onClick"])),64))])]),e("div",Ee,[e("span",We,n(l.$t("setting.language")),1),e("div",Fe,[a(t(he),{style:{width:"140px"},value:t(S),options:z,onUpdateValue:p[6]||(p[6]=m=>t(u).setLanguage(m))},null,8,["value"])])]),e("div",He,[e("span",Je,n(l.$t("setting.resetUserInfo")),1),a(t(_),{size:"small",onClick:H},{default:c(()=>[y(n(l.$t("common.reset")),1)]),_:1})])])]))}}),qe=G(Ye,[["__file","/Users/shixizheng/workspace/code/chatgpt-web/src/components/common/Setting/General.vue"]]),Ke={class:"p-4 space-y-5 min-h-[200px]"},Xe={class:"space-y-6"},Ze={class:"flex items-center space-x-4"},Qe={class:"flex-shrink-0 w-[100px]"},et={class:"flex-1"},tt={class:"flex items-center space-x-4"},st=e("span",{class:"flex-shrink-0 w-[100px]"}," ",-1),nt=B({__name:"Advanced",setup(d){const u=ve(),o=W(),i=$(u.systemMessage??"");function f(s){u.updateSetting(s),o.success(T("common.success"))}function h(){u.resetSetting(),o.success(T("common.success")),window.location.reload()}return(s,r)=>(b(),A("div",Ke,[e("div",Xe,[e("div",Ze,[e("span",Qe,n(s.$t("setting.role")),1),e("div",et,[a(t(D),{value:i.value,"onUpdate:value":r[0]||(r[0]=v=>i.value=v),placeholder:""},null,8,["value"])]),a(t(_),{size:"tiny",text:"",type:"primary",onClick:r[1]||(r[1]=v=>f({systemMessage:i.value}))},{default:c(()=>[y(n(s.$t("common.save")),1)]),_:1})]),e("div",tt,[st,a(t(_),{size:"small",onClick:h},{default:c(()=>[y(n(s.$t("common.reset")),1)]),_:1})])])]))}}),it=G(nt,[["__file","/Users/shixizheng/workspace/code/chatgpt-web/src/components/common/Setting/Advanced.vue"]]),at="chatgpt-web",ot="2.10.8",lt="ChatGPT Web",ct="ChenZhaoYu <chenzhaoyu1994@gmail.com>",rt=["chatgpt-web","chatgpt","chatbot","vue"],dt={dev:"vite",build:"run-p type-check build-only",preview:"vite preview","build-only":"vite build","type-check":"vue-tsc --noEmit",lint:"eslint .","lint:fix":"eslint . --fix",bootstrap:"pnpm install && pnpm run common:prepare","common:cleanup":"rimraf node_modules && rimraf pnpm-lock.yaml","common:prepare":"husky install"},ut={"@traptitech/markdown-it-katex":"^3.6.0","@vueuse/core":"^9.13.0","highlight.js":"^11.7.0",html2canvas:"^1.4.1",katex:"^0.16.4","markdown-it":"^13.0.1","naive-ui":"^2.34.3",pinia:"^2.0.33",vue:"^3.2.47","vue-i18n":"^9.2.2","vue-router":"^4.1.6"},pt={"@antfu/eslint-config":"^0.35.3","@commitlint/cli":"^17.4.4","@commitlint/config-conventional":"^17.4.4","@iconify/vue":"^4.1.0","@types/crypto-js":"^4.1.1","@types/katex":"^0.16.0","@types/markdown-it":"^12.2.3","@types/markdown-it-link-attributes":"^3.0.1","@types/node":"^18.14.6","@vitejs/plugin-vue":"^4.0.0",autoprefixer:"^10.4.13",axios:"^1.3.4","crypto-js":"^4.1.1",eslint:"^8.35.0",husky:"^8.0.3",less:"^4.1.3","lint-staged":"^13.1.2","markdown-it-link-attributes":"^4.0.1","npm-run-all":"^4.1.5",postcss:"^8.4.21",rimraf:"^4.2.0",tailwindcss:"^3.2.7",typescript:"~4.9.5",vite:"^4.2.0","vite-plugin-pwa":"^0.14.4","vue-tsc":"^1.2.0"},mt={name:at,version:ot,private:!1,description:lt,author:ct,keywords:rt,scripts:dt,dependencies:ut,devDependencies:pt,"lint-staged":{"*.{ts,tsx,vue}":["pnpm lint:fix"]}},ft={class:"p-4 space-y-4"},ht={class:"text-xl font-bold"},vt=e("div",{class:"p-2 space-y-2 rounded-md bg-neutral-100 dark:bg-neutral-700"},[e("p",null,[y(" 此项目开源于 "),e("a",{class:"text-blue-600 dark:text-blue-500",href:"https://github.com/Chanzhaoyu/chatgpt-web",target:"_blank"}," Github "),y(" ，免费且基于 MIT 协议，没有任何形式的付费行为！ ")]),e("p",null," 如果你觉得此项目对你有帮助，请在 Github 帮我点个 Star 或者给予一点赞助，谢谢！ ")],-1),gt={key:0},yt={key:1},_t=B({__name:"About",setup(d){const u=F(),o=$(!1),i=$(),f=k(()=>!!u.isChatGPTAPI);async function h(){try{o.value=!0;const{data:s}=await ye();i.value=s}finally{o.value=!1}}return ge(()=>{h()}),(s,r)=>(b(),M(t(Se),{show:o.value},{default:c(()=>{var v,g,S,C,z,I;return[e("div",ft,[e("h2",ht," Version - "+n(t(mt).version),1),vt,e("p",null,n(s.$t("setting.api"))+"："+n(((v=i.value)==null?void 0:v.apiModel)??"-"),1),t(f)?(b(),A("p",gt,n(s.$t("setting.balance"))+"："+n(((g=i.value)==null?void 0:g.balance)??"-"),1)):O("v-if",!0),t(f)?O("v-if",!0):(b(),A("p",yt,n(s.$t("setting.reverseProxy"))+"："+n(((S=i.value)==null?void 0:S.reverseProxy)??"-"),1)),e("p",null,n(s.$t("setting.timeout"))+"："+n(((C=i.value)==null?void 0:C.timeoutMs)??"-"),1),e("p",null,n(s.$t("setting.socks"))+"："+n(((z=i.value)==null?void 0:z.socksProxy)??"-"),1),e("p",null,n(s.$t("setting.httpsProxy"))+"："+n(((I=i.value)==null?void 0:I.httpsProxy)??"-"),1)])]}),_:1},8,["show"]))}}),kt=G(_t,[["__file","/Users/shixizheng/workspace/code/chatgpt-web/src/components/common/Setting/About.vue"]]),xt={class:"ml-2"},bt={class:"min-h-[100px]"},wt={class:"ml-2"},$t={class:"min-h-[100px]"},St={class:"ml-2"},Ct=B({__name:"index",props:{visible:{type:Boolean,required:!0}},emits:["update:visible"],setup(d,{emit:u}){const o=d,i=F(),f=k(()=>!!i.isChatGPTAPI),h=$("General"),s=k({get(){return o.visible},set(r){u("update:visible",r)}});return(r,v)=>(b(),M(t(xe),{show:t(s),"onUpdate:show":v[1]||(v[1]=g=>ke(s)?s.value=g:null),"auto-focus":!1,preset:"card",style:{width:"95%","max-width":"640px"}},{default:c(()=>[e("div",null,[a(t(_e),{value:h.value,"onUpdate:value":v[0]||(v[0]=g=>h.value=g),type:"line",animated:""},{default:c(()=>[a(t(j),{name:"General",tab:"General"},{tab:c(()=>[a(t(w),{class:"text-lg",icon:"ri:file-user-line"}),e("span",xt,n(r.$t("setting.general")),1)]),default:c(()=>[e("div",bt,[a(qe)])]),_:1}),t(f)?(b(),M(t(j),{key:0,name:"Advanced",tab:"Advanced"},{tab:c(()=>[a(t(w),{class:"text-lg",icon:"ri:equalizer-line"}),e("span",wt,n(r.$t("setting.advanced")),1)]),default:c(()=>[e("div",$t,[a(it)])]),_:1})):O("v-if",!0),a(t(j),{name:"Config",tab:"Config"},{tab:c(()=>[a(t(w),{class:"text-lg",icon:"ri:list-settings-line"}),e("span",St,n(r.$t("setting.config")),1)]),default:c(()=>[a(kt)]),_:1})]),_:1},8,["value"])])]),_:1},8,["show"]))}}),It=G(Ct,[["__file","/Users/shixizheng/workspace/code/chatgpt-web/src/components/common/Setting/index.vue"]]);export{It as default};
